{"version":3,"sources":["descriptions/index.jsx"],"names":["React","classNames","warning","ResponsiveObserve","responsiveArray","ConfigConsumer","Col","DescriptionsItem","children","generateChildrenRows","cloneChildren","column","childrenArray","columnArray","totalRowSpan","Children","forEach","node","push","props","span","length","renderRow","index","bordered","layout","colon","prefixCls","isLast","lastChildren","pop","cloneElement","renderCol","childrenItem","type","idx","cloneContentChildren","defaultColumnMap","xxl","xl","lg","md","sm","xs","Descriptions","arguments","state","screens","token","subscribe","setState","unsubscribe","i","breakpoint","undefined","getPrefixCls","className","customizePrefixCls","title","size","style","getColumn","map","child","isValidElement","Component","defaultProps","Item"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport warning from '../_util/warning';\nimport ResponsiveObserve, { responsiveArray, } from '../_util/responsiveObserve';\nimport { ConfigConsumer } from '../config-provider';\nimport Col from './Col';\nconst DescriptionsItem = ({ children }) => children;\n/**\n * Convert children into `column` groups.\n * @param cloneChildren: DescriptionsItem\n * @param column: number\n */\nconst generateChildrenRows = (cloneChildren, column) => {\n    const childrenArray = [];\n    let columnArray = [];\n    let totalRowSpan = 0;\n    React.Children.forEach(cloneChildren, (node) => {\n        columnArray.push(node);\n        if (node.props.span) {\n            totalRowSpan += node.props.span;\n        }\n        else {\n            totalRowSpan += 1;\n        }\n        if (totalRowSpan >= column) {\n            warning(totalRowSpan <= column, 'Descriptions', 'Sum of column `span` in a line exceeds `column` of Descriptions.');\n            childrenArray.push(columnArray);\n            columnArray = [];\n            totalRowSpan = 0;\n        }\n    });\n    if (columnArray.length > 0) {\n        childrenArray.push(columnArray);\n        columnArray = [];\n    }\n    return childrenArray;\n};\nconst renderRow = (children, index, { prefixCls, column, isLast }, bordered, layout, colon) => {\n    // copy children,prevent changes to incoming parameters\n    const childrenArray = [...children];\n    let lastChildren = childrenArray.pop();\n    const span = column - childrenArray.length;\n    if (isLast) {\n        lastChildren = React.cloneElement(lastChildren, {\n            span,\n        });\n    }\n    childrenArray.push(lastChildren);\n    const renderCol = (childrenItem, type, idx) => (<Col child={childrenItem} bordered={bordered} colon={colon} type={type} key={`${type}-${idx}`} layout={layout}/>);\n    const cloneChildren = [];\n    const cloneContentChildren = [];\n    React.Children.forEach(childrenArray, (childrenItem, idx) => {\n        cloneChildren.push(renderCol(childrenItem, 'label', idx));\n        if (layout === 'vertical') {\n            cloneContentChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n        else if (bordered) {\n            cloneChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n    });\n    if (layout === 'vertical') {\n        return [\n            <tr className={`${prefixCls}-row`} key={`label-${index}`}>\n        {cloneChildren}\n      </tr>,\n            <tr className={`${prefixCls}-row`} key={`content-${index}`}>\n        {cloneContentChildren}\n      </tr>,\n        ];\n    }\n    return (<tr className={`${prefixCls}-row`} key={index}>\n      {cloneChildren}\n    </tr>);\n};\nconst defaultColumnMap = {\n    xxl: 3,\n    xl: 3,\n    lg: 3,\n    md: 3,\n    sm: 2,\n    xs: 1,\n};\nclass Descriptions extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            screens: {},\n        };\n    }\n    componentDidMount() {\n        const { column } = this.props;\n        this.token = ResponsiveObserve.subscribe(screens => {\n            if (typeof column !== 'object') {\n                return;\n            }\n            this.setState({\n                screens,\n            });\n        });\n    }\n    componentWillUnmount() {\n        ResponsiveObserve.unsubscribe(this.token);\n    }\n    getColumn() {\n        const { column } = this.props;\n        if (typeof column === 'object') {\n            for (let i = 0; i < responsiveArray.length; i++) {\n                const breakpoint = responsiveArray[i];\n                if (this.state.screens[breakpoint] && column[breakpoint] !== undefined) {\n                    return column[breakpoint] || defaultColumnMap[breakpoint];\n                }\n            }\n        }\n        // If the configuration is not an object, it is a number, return number\n        if (typeof column === 'number') {\n            return column;\n        }\n        // If it is an object, but no response is found, this happens only in the test.\n        // Maybe there are some strange environments\n        return 3;\n    }\n    render() {\n        return (<ConfigConsumer>\n        {({ getPrefixCls }) => {\n            const { className, prefixCls: customizePrefixCls, title, size, children, bordered = false, layout = 'horizontal', colon = true, style, } = this.props;\n            const prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n            const column = this.getColumn();\n            const cloneChildren = React.Children.map(children, (child) => {\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        prefixCls,\n                    });\n                }\n                return child;\n            });\n            const childrenArray = generateChildrenRows(cloneChildren, column);\n            return (<div className={classNames(prefixCls, className, {\n                [`${prefixCls}-${size}`]: size !== 'default',\n                [`${prefixCls}-bordered`]: !!bordered,\n            })} style={style}>\n              {title && <div className={`${prefixCls}-title`}>{title}</div>}\n              <div className={`${prefixCls}-view`}>\n                <table>\n                  <tbody>\n                    {childrenArray.map((child, index) => renderRow(child, index, {\n                prefixCls,\n                column,\n                isLast: index + 1 === childrenArray.length,\n            }, bordered, layout, colon))}\n                  </tbody>\n                </table>\n              </div>\n            </div>);\n        }}\n      </ConfigConsumer>);\n    }\n}\nDescriptions.defaultProps = {\n    size: 'default',\n    column: defaultColumnMap,\n};\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;\n"],"file":"index.js"}